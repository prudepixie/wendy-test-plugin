{"version":3,"file":"figma-plugin-panel.js","sources":["../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../lib/figma-plugin-panel.js"],"sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","/**\n * THIS FILE IS USED TO SIMULATE FIGMA PLUGIN API IN DEVELOPMENT ENVIROMENT.\n * IT WON'T BE PACKAGED WITH YOUR PLUGIN WHEN YOU BUILD IT.\n */\n\n/** @jsx h */\nimport h from \"vhtml\";\nimport './figma-plugin-panel.scss'\n\nconst createHtmlNodes = str =>\n  document.createRange().createContextualFragment(str);\n\nconst panel = (title) => (\n  <div class=\"figma-plugin-panel\">\n    <header>\n      <span>{title}</span>\n      <button class=\"close\">\n        <span class=\"g0126e402\" />\n      </button>\n    </header>\n    <div class=\"figma-plugin-ui\" />\n  </div>\n);\n\nclass FigmaPluginPanel {\n  showUI = (title, callback, width, height) => {    \n    const ui = panel(title);\n    const htmlNodes = createHtmlNodes(ui);\n    document.body.appendChild(htmlNodes);\n\n    this.panel = document.querySelector(\".figma-plugin-panel\");\n\n    const clientWidth = document.documentElement.clientWidth;\n    const clientHeight = document.documentElement.clientHeight;\n    this.panel.style.left = clientWidth / 2 - width / 2 + \"px\";\n    this.panel.style.top = clientHeight / 2 - height / 2 + \"px\";\n    this.panel.style.width = width + \"px\";\n    this.panel.style.height = height + \"px\";\n\n    this.header = this.panel.querySelector(\"header\");\n    \n    this.draggable(this.panel, this.header);\n\n    this.panel.querySelector('button.close').addEventListener('click', this.hideUI);\n\n    callback(document.querySelector(\".figma-plugin-panel > .figma-plugin-ui\"));\n  }\n\n  hideUI = () => {\n    this.panel.remove();\n  }\n\n  draggable = (panel, header) => {\n    let isMouseDown = false;\n    let mouseX;\n    let mouseY;\n    let elementX = parseInt(panel.style.left) || 0;\n    let elementY = parseInt(panel.style.top) || 0;\n\n    const onMouseDown = (event) => {\n      mouseX = event.clientX;\n      mouseY = event.clientY;\n      isMouseDown = true;\n    }\n\n    const onMouseUp = (event) => {\n      isMouseDown = false;\n      elementX = parseInt(panel.style.left) || 0;\n      elementY = parseInt(panel.style.top) || 0;\n    }\n\n    const onMouseMove = (event) => {\n      if (!isMouseDown) return;\n      var deltaX = event.clientX - mouseX;\n      var deltaY = event.clientY - mouseY;\n      panel.style.left = elementX + deltaX + \"px\";\n      panel.style.top = elementY + deltaY + \"px\";\n    }\n\n    header.addEventListener(\"mousedown\", onMouseDown);\n    header.addEventListener(\"mouseup\", onMouseUp);\n    document.addEventListener(\"mousemove\", onMouseMove);\n  }\n\n  createPluginsMenuItem = () => {}\n  createKeyboardShortcut = () => {}\n}\n\nwindow.figmaPlus = new FigmaPluginPanel();"],"names":["module","instance","Constructor","TypeError","obj","key","value","Object","defineProperty","enumerable","configurable","writable","window","figmaPlus","title","callback","width","height","htmlNodes","str","document","createRange","createContextualFragment","createHtmlNodes","h","class","panel","body","appendChild","_this","querySelector","clientWidth","documentElement","clientHeight","style","left","top","header","draggable","addEventListener","hideUI","remove","mouseX","mouseY","isMouseDown","elementX","parseInt","elementY","event","clientX","clientY","deltaX","deltaY"],"mappings":"0FAMAA,MANA,SAAyBC,EAAUC,QAC3BD,aAAoBC,SAClB,IAAIC,UAAU,sCCaxBH,MAfA,SAAyBI,EAAKC,EAAKC,UAC7BD,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,w1BC4ETQ,OAAOC,UAAY,sDA/DR,SAACC,EAAOC,EAAUC,EAAOC,OAE1BC,EAlBc,SAAAC,UACtBC,SAASC,cAAcC,yBAAyBH,GAiB5BI,CAfR,SAACT,UACbU,SAAKC,MAAM,sBACTD,gBACEA,cAAOV,GACPU,YAAQC,MAAM,SACZD,UAAMC,MAAM,gBAGhBD,SAAKC,MAAM,qBAMAC,CAAMZ,IAEjBM,SAASO,KAAKC,YAAYV,GAE1BW,EAAKH,MAAQN,SAASU,cAAc,2BAE9BC,EAAcX,SAASY,gBAAgBD,YACvCE,EAAeb,SAASY,gBAAgBC,aAC9CJ,EAAKH,MAAMQ,MAAMC,KAAOJ,EAAc,EAAIf,EAAQ,EAAI,KACtDa,EAAKH,MAAMQ,MAAME,IAAMH,EAAe,EAAIhB,EAAS,EAAI,KACvDY,EAAKH,MAAMQ,MAAMlB,MAAQA,EAAQ,KACjCa,EAAKH,MAAMQ,MAAMjB,OAASA,EAAS,KAEnCY,EAAKQ,OAASR,EAAKH,MAAMI,cAAc,UAEvCD,EAAKS,UAAUT,EAAKH,MAAOG,EAAKQ,QAEhCR,EAAKH,MAAMI,cAAc,gBAAgBS,iBAAiB,QAASV,EAAKW,QAExEzB,EAASK,SAASU,cAAc,6DAGzB,WACPD,EAAKH,MAAMe,8BAGD,SAACf,EAAOW,OAEdK,EACAC,EAFAC,GAAc,EAGdC,EAAWC,SAASpB,EAAMQ,MAAMC,OAAS,EACzCY,EAAWD,SAASpB,EAAMQ,MAAME,MAAQ,EAsB5CC,EAAOE,iBAAiB,YApBJ,SAACS,GACnBN,EAASM,EAAMC,QACfN,EAASK,EAAME,QACfN,GAAc,IAkBhBP,EAAOE,iBAAiB,UAfN,SAACS,GACjBJ,GAAc,EACdC,EAAWC,SAASpB,EAAMQ,MAAMC,OAAS,EACzCY,EAAWD,SAASpB,EAAMQ,MAAME,MAAQ,IAa1ChB,SAASmB,iBAAiB,YAVN,SAACS,MACdJ,OACDO,EAASH,EAAMC,QAAUP,EACzBU,EAASJ,EAAME,QAAUP,EAC7BjB,EAAMQ,MAAMC,KAAOU,EAAWM,EAAS,KACvCzB,EAAMQ,MAAME,IAAMW,EAAWK,EAAS,yCAQlB,8CACC"}